\doxysection{C:\+/\+\+Users/\+\+Sterm/\+\+Documents/\+\+Git\+Hub/\+\+Rover\+\_\+gruppo3/\+\+Codice\+\_\+\+Rover/\+\+Progetto\+\_\+\+Board1/\+\+Core/\+\+Src/\+snapshot/\+encoder\+\_\+snapshot.c File Reference}
\hypertarget{encoder__snapshot_8c}{}\label{encoder__snapshot_8c}\index{C:/Users/Sterm/Documents/GitHub/Rover\_gruppo3/Codice\_Rover/Progetto\_Board1/Core/Src/snapshot/encoder\_snapshot.c@{C:/Users/Sterm/Documents/GitHub/Rover\_gruppo3/Codice\_Rover/Progetto\_Board1/Core/Src/snapshot/encoder\_snapshot.c}}


Container sicuro per i dati di velocità e feedback degli encoder.  


{\ttfamily \+\#include "{}snapshot/\+encoder\+\_\+snapshot.\+h"{}}\newline
{\ttfamily \+\#include "{}log/\+wcet\+\_\+monitor.\+h"{}}\newline
{\ttfamily \+\#include "{}main.\+h"{}}\newline
Include dependency graph for encoder\+\_\+snapshot.\+c:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{encoder__snapshot_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{encoder__snapshot_8c_a1f48961ee95ea98abd1c8c6b5e2498b5}{Encoder\+Snapshot\+\_\+\+Mutex\+Init}} (os\+Mutex\+Id\+\_\+t mutex\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Inizializza il Mutex per lo snapshot encoder. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{encoder__snapshot_8c_a461cb0565d6741f020ebd4aae43fc68b}{Encoder\+Snapshot\+\_\+\+Write}} (const \doxymbox{\hyperlink{struct_encoder_snapshot__t}{Encoder\+Snapshot\+\_\+t}} \texorpdfstring{$\ast$}{*}src)
\begin{DoxyCompactList}\small\item\em Scrive i dati encoder in modo atomico. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{encoder__snapshot_8c_af580ad966ed7718068907738755f9e22}{Encoder\+Snapshot\+\_\+\+Read}} (\doxymbox{\hyperlink{struct_encoder_snapshot__t}{Encoder\+Snapshot\+\_\+t}} \texorpdfstring{$\ast$}{*}dst)
\begin{DoxyCompactList}\small\item\em Legge lo stato attuale degli encoder in modo atomico. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \doxymbox{\hyperlink{struct_encoder_snapshot__t}{Encoder\+Snapshot\+\_\+t}} \doxymbox{\hyperlink{encoder__snapshot_8c_a2b6af9aa99660ce2a451ed81ed6ffa0f}{snapshot}}
\begin{DoxyCompactList}\small\item\em Variabile globale statica che contiene l\textquotesingle{}ultimo stato valido degli encoder. \end{DoxyCompactList}\item 
static os\+Mutex\+Id\+\_\+t \doxymbox{\hyperlink{encoder__snapshot_8c_a5d6c4d40d28bdb35b409841e0991d290}{snapshot\+\_\+mutex}} = NULL
\begin{DoxyCompactList}\small\item\em Mutex per garantire l\textquotesingle{}accesso esclusivo alla variabile snapshot. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Container sicuro per i dati di velocità e feedback degli encoder. 

Permette al task Encoder di pubblicare i dati e al task Controllo di consumarli senza race conditions. 

\label{doc-func-members}
\Hypertarget{encoder__snapshot_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{encoder__snapshot_8c_a1f48961ee95ea98abd1c8c6b5e2498b5}\index{encoder\_snapshot.c@{encoder\_snapshot.c}!EncoderSnapshot\_MutexInit@{EncoderSnapshot\_MutexInit}}
\index{EncoderSnapshot\_MutexInit@{EncoderSnapshot\_MutexInit}!encoder\_snapshot.c@{encoder\_snapshot.c}}
\doxysubsubsection{\texorpdfstring{EncoderSnapshot\_MutexInit()}{EncoderSnapshot\_MutexInit()}}
{\footnotesize\ttfamily \label{encoder__snapshot_8c_a1f48961ee95ea98abd1c8c6b5e2498b5} 
void Encoder\+Snapshot\+\_\+\+Mutex\+Init (\begin{DoxyParamCaption}\item[{os\+Mutex\+Id\+\_\+t}]{mutex\+\_\+handle}{}\end{DoxyParamCaption})}



Inizializza il Mutex per lo snapshot encoder. 

Inizializza il mutex per l\textquotesingle{}accesso thread-\/safe allo snapshot encoder.


\begin{DoxyParams}{Parameters}
{\em mutex\+\_\+handle} & Handle del mutex creato dal kernel CMSIS-\/\+RTOS. \\
\hline
\end{DoxyParams}
Here is the caller graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{encoder__snapshot_8c_a1f48961ee95ea98abd1c8c6b5e2498b5_icgraph}
\end{center}
\end{figure}
\Hypertarget{encoder__snapshot_8c_af580ad966ed7718068907738755f9e22}\index{encoder\_snapshot.c@{encoder\_snapshot.c}!EncoderSnapshot\_Read@{EncoderSnapshot\_Read}}
\index{EncoderSnapshot\_Read@{EncoderSnapshot\_Read}!encoder\_snapshot.c@{encoder\_snapshot.c}}
\doxysubsubsection{\texorpdfstring{EncoderSnapshot\_Read()}{EncoderSnapshot\_Read()}}
{\footnotesize\ttfamily \label{encoder__snapshot_8c_af580ad966ed7718068907738755f9e22} 
void Encoder\+Snapshot\+\_\+\+Read (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_encoder_snapshot__t}{Encoder\+Snapshot\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{dst}{}\end{DoxyParamCaption})}



Legge lo stato attuale degli encoder in modo atomico. 

Legge l\textquotesingle{}ultimo snapshot encoder disponibile.


\begin{DoxyParams}{Parameters}
{\em dst} & Puntatore alla struttura di destinazione (tipicamente nel task Controllo). \\
\hline
\end{DoxyParams}
Here is the caller graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{encoder__snapshot_8c_af580ad966ed7718068907738755f9e22_icgraph}
\end{center}
\end{figure}
\Hypertarget{encoder__snapshot_8c_a461cb0565d6741f020ebd4aae43fc68b}\index{encoder\_snapshot.c@{encoder\_snapshot.c}!EncoderSnapshot\_Write@{EncoderSnapshot\_Write}}
\index{EncoderSnapshot\_Write@{EncoderSnapshot\_Write}!encoder\_snapshot.c@{encoder\_snapshot.c}}
\doxysubsubsection{\texorpdfstring{EncoderSnapshot\_Write()}{EncoderSnapshot\_Write()}}
{\footnotesize\ttfamily \label{encoder__snapshot_8c_a461cb0565d6741f020ebd4aae43fc68b} 
void Encoder\+Snapshot\+\_\+\+Write (\begin{DoxyParamCaption}\item[{const \doxymbox{\hyperlink{struct_encoder_snapshot__t}{Encoder\+Snapshot\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{src}{}\end{DoxyParamCaption})}



Scrive i dati encoder in modo atomico. 

Scrive i dati degli encoder nello snapshot.


\begin{DoxyParams}{Parameters}
{\em src} & Puntatore alla struttura dati aggiornata dal task Encoder. \\
\hline
\end{DoxyParams}
Here is the caller graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{encoder__snapshot_8c_a461cb0565d6741f020ebd4aae43fc68b_icgraph}
\end{center}
\end{figure}


\label{doc-var-members}
\Hypertarget{encoder__snapshot_8c_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{encoder__snapshot_8c_a2b6af9aa99660ce2a451ed81ed6ffa0f}\index{encoder\_snapshot.c@{encoder\_snapshot.c}!snapshot@{snapshot}}
\index{snapshot@{snapshot}!encoder\_snapshot.c@{encoder\_snapshot.c}}
\doxysubsubsection{\texorpdfstring{snapshot}{snapshot}}
{\footnotesize\ttfamily \label{encoder__snapshot_8c_a2b6af9aa99660ce2a451ed81ed6ffa0f} 
\doxymbox{\hyperlink{struct_encoder_snapshot__t}{Encoder\+Snapshot\+\_\+t}} snapshot\hspace{0.3cm}{\ttfamily [static]}}



Variabile globale statica che contiene l\textquotesingle{}ultimo stato valido degli encoder. 

\Hypertarget{encoder__snapshot_8c_a5d6c4d40d28bdb35b409841e0991d290}\index{encoder\_snapshot.c@{encoder\_snapshot.c}!snapshot\_mutex@{snapshot\_mutex}}
\index{snapshot\_mutex@{snapshot\_mutex}!encoder\_snapshot.c@{encoder\_snapshot.c}}
\doxysubsubsection{\texorpdfstring{snapshot\_mutex}{snapshot\_mutex}}
{\footnotesize\ttfamily \label{encoder__snapshot_8c_a5d6c4d40d28bdb35b409841e0991d290} 
os\+Mutex\+Id\+\_\+t snapshot\+\_\+mutex = NULL\hspace{0.3cm}{\ttfamily [static]}}



Mutex per garantire l\textquotesingle{}accesso esclusivo alla variabile snapshot. 

