\doxysection{C:\+/\+\+Users/\+\+Sterm/\+\+Documents/\+\+Git\+Hub/\+\+Rover\+\_\+gruppo3/\+\+Codice\+\_\+\+Rover/\+\+Progetto\+\_\+\+Board1/\+\+Core/\+\+Src/\+actuation/\+actuation\+\_\+step.c File Reference}
\hypertarget{actuation__step_8c}{}\label{actuation__step_8c}\index{C:/Users/Sterm/Documents/GitHub/Rover\_gruppo3/Codice\_Rover/Progetto\_Board1/Core/Src/actuation/actuation\_step.c@{C:/Users/Sterm/Documents/GitHub/Rover\_gruppo3/Codice\_Rover/Progetto\_Board1/Core/Src/actuation/actuation\_step.c}}


Implementazione del task di attuazione per il controllo motori.  


{\ttfamily \+\#include "{}actuation/\+actuation.\+h"{}}\newline
{\ttfamily \+\#include "{}snapshot/\+supervisor\+\_\+snapshot.\+h"{}}\newline
{\ttfamily \+\#include "{}snapshot/\+encoder\+\_\+snapshot.\+h"{}}\newline
{\ttfamily \+\#include $<$control/\+control\+\_\+law.\+h$>$}\newline
{\ttfamily \+\#include $<$math.\+h$>$}\newline
Include dependency graph for actuation\+\_\+step.\+c:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{actuation__step_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\+\#define \doxymbox{\hyperlink{actuation__step_8c_a602e0555c50090bb031dcef200fa642a}{ACTUATION\+\_\+\+MAX\+\_\+\+VOLTAGE}}~12.\+0f
\begin{DoxyCompactList}\small\item\em Tensione massima applicabile ai motori \+[V]\+. \end{DoxyCompactList}\item 
\+\#define \doxymbox{\hyperlink{actuation__step_8c_ae6078a0013a4aa0054ff476d5a02df8b}{VOLTAGE\+\_\+\+DEADZONE}}~0.\+6f
\begin{DoxyCompactList}\small\item\em Soglia di zona morta per la tensione \+[V]\+. \end{DoxyCompactList}\item 
\+\#define \doxymbox{\hyperlink{actuation__step_8c_ab5a1ec70f81a86c18449425ada4adab8}{FEEDBACK\+\_\+\+IDX\+\_\+\+SX\+\_\+A}}~0U
\begin{DoxyCompactList}\small\item\em Indice feedback ruota anteriore sinistra. \end{DoxyCompactList}\item 
\+\#define \doxymbox{\hyperlink{actuation__step_8c_a1786c0274276c6afb392facc232a1d01}{FEEDBACK\+\_\+\+IDX\+\_\+\+DX\+\_\+A}}~1U
\begin{DoxyCompactList}\small\item\em Indice feedback ruota anteriore destra. \end{DoxyCompactList}\item 
\+\#define \doxymbox{\hyperlink{actuation__step_8c_a4065ae55234aa5afe3c928b38ca40c1e}{FEEDBACK\+\_\+\+IDX\+\_\+\+SX\+\_\+P}}~2U
\begin{DoxyCompactList}\small\item\em Indice feedback ruota posteriore sinistra. \end{DoxyCompactList}\item 
\+\#define \doxymbox{\hyperlink{actuation__step_8c_a773e95b7916f7a9e80ae683022f22d44}{FEEDBACK\+\_\+\+IDX\+\_\+\+DX\+\_\+P}}~3U
\begin{DoxyCompactList}\small\item\em Indice feedback ruota posteriore destra. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{actuation__step_8c_a0991cd6500749efc61a1a5f6dde7eee5}{Actuation\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Inizializza l\textquotesingle{}hardware di attuazione. Richiama la configurazione periferica del driver Sabertooth. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{actuation__step_8c_adf98702f2e24c4b18f54c774350214db}{Actuation\+\_\+\+Step}} (\doxymbox{\hyperlink{struct_control_output__t}{Control\+Output\+\_\+t}} cmd)
\begin{DoxyCompactList}\small\item\em Esegue lo step periodico di attuazione. Legge gli snapshot di sistema, applica filtri di zona morta (deadzone) in assenza di feedback e satura i segnali di comando entro i limiti definiti prima di inviarli ai driver motori. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementazione del task di attuazione per il controllo motori. 



\label{doc-define-members}
\Hypertarget{actuation__step_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{actuation__step_8c_a602e0555c50090bb031dcef200fa642a}\index{actuation\_step.c@{actuation\_step.c}!ACTUATION\_MAX\_VOLTAGE@{ACTUATION\_MAX\_VOLTAGE}}
\index{ACTUATION\_MAX\_VOLTAGE@{ACTUATION\_MAX\_VOLTAGE}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{ACTUATION\_MAX\_VOLTAGE}{ACTUATION\_MAX\_VOLTAGE}}
{\footnotesize\ttfamily \label{actuation__step_8c_a602e0555c50090bb031dcef200fa642a} 
\+\#define ACTUATION\+\_\+\+MAX\+\_\+\+VOLTAGE~12.\+0f}



Tensione massima applicabile ai motori \+[V]\+. 

\Hypertarget{actuation__step_8c_a1786c0274276c6afb392facc232a1d01}\index{actuation\_step.c@{actuation\_step.c}!FEEDBACK\_IDX\_DX\_A@{FEEDBACK\_IDX\_DX\_A}}
\index{FEEDBACK\_IDX\_DX\_A@{FEEDBACK\_IDX\_DX\_A}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{FEEDBACK\_IDX\_DX\_A}{FEEDBACK\_IDX\_DX\_A}}
{\footnotesize\ttfamily \label{actuation__step_8c_a1786c0274276c6afb392facc232a1d01} 
\+\#define FEEDBACK\+\_\+\+IDX\+\_\+\+DX\+\_\+A~1U}



Indice feedback ruota anteriore destra. 

\Hypertarget{actuation__step_8c_a773e95b7916f7a9e80ae683022f22d44}\index{actuation\_step.c@{actuation\_step.c}!FEEDBACK\_IDX\_DX\_P@{FEEDBACK\_IDX\_DX\_P}}
\index{FEEDBACK\_IDX\_DX\_P@{FEEDBACK\_IDX\_DX\_P}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{FEEDBACK\_IDX\_DX\_P}{FEEDBACK\_IDX\_DX\_P}}
{\footnotesize\ttfamily \label{actuation__step_8c_a773e95b7916f7a9e80ae683022f22d44} 
\+\#define FEEDBACK\+\_\+\+IDX\+\_\+\+DX\+\_\+P~3U}



Indice feedback ruota posteriore destra. 

\Hypertarget{actuation__step_8c_ab5a1ec70f81a86c18449425ada4adab8}\index{actuation\_step.c@{actuation\_step.c}!FEEDBACK\_IDX\_SX\_A@{FEEDBACK\_IDX\_SX\_A}}
\index{FEEDBACK\_IDX\_SX\_A@{FEEDBACK\_IDX\_SX\_A}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{FEEDBACK\_IDX\_SX\_A}{FEEDBACK\_IDX\_SX\_A}}
{\footnotesize\ttfamily \label{actuation__step_8c_ab5a1ec70f81a86c18449425ada4adab8} 
\+\#define FEEDBACK\+\_\+\+IDX\+\_\+\+SX\+\_\+A~0U}



Indice feedback ruota anteriore sinistra. 

\Hypertarget{actuation__step_8c_a4065ae55234aa5afe3c928b38ca40c1e}\index{actuation\_step.c@{actuation\_step.c}!FEEDBACK\_IDX\_SX\_P@{FEEDBACK\_IDX\_SX\_P}}
\index{FEEDBACK\_IDX\_SX\_P@{FEEDBACK\_IDX\_SX\_P}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{FEEDBACK\_IDX\_SX\_P}{FEEDBACK\_IDX\_SX\_P}}
{\footnotesize\ttfamily \label{actuation__step_8c_a4065ae55234aa5afe3c928b38ca40c1e} 
\+\#define FEEDBACK\+\_\+\+IDX\+\_\+\+SX\+\_\+P~2U}



Indice feedback ruota posteriore sinistra. 

\Hypertarget{actuation__step_8c_ae6078a0013a4aa0054ff476d5a02df8b}\index{actuation\_step.c@{actuation\_step.c}!VOLTAGE\_DEADZONE@{VOLTAGE\_DEADZONE}}
\index{VOLTAGE\_DEADZONE@{VOLTAGE\_DEADZONE}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{VOLTAGE\_DEADZONE}{VOLTAGE\_DEADZONE}}
{\footnotesize\ttfamily \label{actuation__step_8c_ae6078a0013a4aa0054ff476d5a02df8b} 
\+\#define VOLTAGE\+\_\+\+DEADZONE~0.\+6f}



Soglia di zona morta per la tensione \+[V]\+. 



\label{doc-func-members}
\Hypertarget{actuation__step_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{actuation__step_8c_a0991cd6500749efc61a1a5f6dde7eee5}\index{actuation\_step.c@{actuation\_step.c}!Actuation\_Init@{Actuation\_Init}}
\index{Actuation\_Init@{Actuation\_Init}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{Actuation\_Init()}{Actuation\_Init()}}
{\footnotesize\ttfamily \label{actuation__step_8c_a0991cd6500749efc61a1a5f6dde7eee5} 
void Actuation\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Inizializza l\textquotesingle{}hardware di attuazione. Richiama la configurazione periferica del driver Sabertooth. 

Inizializza il modulo di attuazione. Here is the call graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{actuation__step_8c_a0991cd6500749efc61a1a5f6dde7eee5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{actuation__step_8c_a0991cd6500749efc61a1a5f6dde7eee5_icgraph}
\end{center}
\end{figure}
\Hypertarget{actuation__step_8c_adf98702f2e24c4b18f54c774350214db}\index{actuation\_step.c@{actuation\_step.c}!Actuation\_Step@{Actuation\_Step}}
\index{Actuation\_Step@{Actuation\_Step}!actuation\_step.c@{actuation\_step.c}}
\doxysubsubsection{\texorpdfstring{Actuation\_Step()}{Actuation\_Step()}}
{\footnotesize\ttfamily \label{actuation__step_8c_adf98702f2e24c4b18f54c774350214db} 
void Actuation\+\_\+\+Step (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_control_output__t}{Control\+Output\+\_\+t}}}]{cmd}{}\end{DoxyParamCaption})}



Esegue lo step periodico di attuazione. Legge gli snapshot di sistema, applica filtri di zona morta (deadzone) in assenza di feedback e satura i segnali di comando entro i limiti definiti prima di inviarli ai driver motori. 

Esegue un singolo passo di attuazione basato sull\textquotesingle{}output del controllo.


\begin{DoxyParams}{Parameters}
{\em cmd} & Struttura contenente i comandi di tensione calcolati dalla legge di controllo. \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Invia i segnali saturati e corretti al driver Sabertooth.
\end{DoxyNote}
Here is the call graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{actuation__step_8c_adf98702f2e24c4b18f54c774350214db_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{actuation__step_8c_adf98702f2e24c4b18f54c774350214db_icgraph}
\end{center}
\end{figure}
